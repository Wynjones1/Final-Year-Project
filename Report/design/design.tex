\label{chap:design}
In this chapter we will discuss the design aspect of the project, this will include an overview of the
architecture that we have decided upon and the rational behind it, we will then move to describe key components of
the design and how they relate to the aims and goals of this project and any interesting problems that they
may cause in the implementation and how we propose to solve the problem.

\section{Architectural Overview}
During the requirements analysis stage of this project it was clear that the project could be decomposed into
two main sub-modules, a front-end that will perform the interaction with the user and the operating system and a
back end that will process the user input in order to synthesis image, this can be seen in 
Figure~\ref{fig:design_blocks}, further decomposition of the back end was decided from the definition of the
photon mapping algorithm which is conceptually separated into two stages, the photon emission stage and the ray-tracing stage, it
would be natural then to subdivide the back end into separate blocks that perform these steps, the first producing the photon
maps and the second using this data along with the scene description from the front end to produce the output image.

\begin{figure}
\centering
\includegraphics[scale=0.75]{./design/TopLevel.png}
\caption{Top level block diagram of the system}
\label{fig:design_blocks}
\end{figure}

\newpage
\input{design/front_end.tex}
\newpage
\input{design/back_end.tex}
